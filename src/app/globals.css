/* Tailwind v4 import */
@import "tailwindcss";

/* =========================================
   Design tokens / brand
========================================= */
:root{
  --radius:14px;

  /* Brand: purple → yellow */
  --brand-1:#7c3aed;                         /* ljubičasta */
  --brand-2:#facc15;                         /* žuta */
  --brand-gradient: linear-gradient(90deg, var(--brand-1), var(--brand-2));

  /* RGB pomoćne */
  --brand-1-rgb:124,58,237;
  --brand-2-rgb:250,204,21;

  /* Danger (crveno) */
  --danger-1:#ef4444;      /* red-500 */
  --danger-2:#b91c1c;      /* red-700 */
  --danger-1-rgb:239,68,68;

  /* Površine */
  --border-light:#e5e7eb;
  --border-dark:#26262b;
  --card-light:#fafafa;
  --card-dark:#111113;

  /* Dugmad */
  --btn-outline-w: 2px;        /* širina prstena/ivice */

  /* Hover fill (brand default) */
  --btn-hover-fill-light: rgba(124,58,237,.36);
  --btn-hover-fill-dark:  rgba(124,58,237,.46);
}

/* Global surface (next-themes dodaje .dark na <html>) */
html{ background:#ffffff; color:#111827; color-scheme: light; }
html.dark{ background:#0b0b0c; color:#f5f5f6; color-scheme: dark; }

/* Mapiranje po temi + neutral outline za "plain" varijante */
html:not(.dark){ --border: var(--border-light); --card: var(--card-light); --btn-outline:#cbd5e1; }
html.dark{       --border: var(--border-dark);  --card: var(--card-dark);  --btn-outline:#3b3f46; }

/* =========================================
   Layout helpers
========================================= */
.container-page{ margin:0 auto; max-width:80rem; padding:1.5rem; }
.card{
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
}
.field{
  width:100%;
  border:1px solid var(--border);
  border-radius: calc(var(--radius) - 8px);
  background: transparent;
  color: inherit;
  padding:.45rem .6rem;
  font-size:.875rem;
}
.field:focus{
  outline:none;
  /* ljubičasti ring */
  box-shadow: 0 0 0 3px rgba(var(--brand-1-rgb), .35);
}

/* =========================================
   Buttons — STALNI outline preko ::after
========================================= */
.btn{
  position:relative; z-index:0; isolation:isolate;
  -webkit-tap-highlight-color:transparent;
  display:inline-flex; align-items:center; gap:.5rem;
  padding:.45rem .7rem; font-size:.875rem; line-height:1;

  border: var(--btn-outline-w) solid transparent;   /* realni border je transparentan */
  border-radius: calc(var(--radius) - 6px);

  --btn-bg: transparent;                             /* ispunu menjaju varijante */
  background: var(--btn-bg);
  background-clip: padding-box;                      /* fill ostaje unutar prstena */
  color: inherit;

  /* default gradient za prsten; varijante ga mogu promeniti */
  --btn-outline-gradient: var(--brand-gradient);

  transition:
    background .18s ease,
    box-shadow .22s ease,
    transform .18s ease,
    filter .22s ease;
}

/* Prsten */
.btn::after{
  content:"";
  position:absolute; inset:0;
  border-radius: inherit;
  padding: var(--btn-outline-w);
  background: var(--btn-outline-gradient);
  -webkit-mask:
     linear-gradient(#000 0 0) content-box,
     linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  pointer-events:none;
}

/* BRAND generic hover — NE diraj .btn-brand i .btn-danger */
html:not(.dark) .btn:not(.btn-brand):not(.btn-danger):not([disabled]):hover{
  background-color: var(--btn-hover-fill-light) !important;
  background-image: none !important;
  transform: translateY(-1px);
  filter: saturate(1.05);
  box-shadow:
    0 1px 0 rgba(0,0,0,.06) inset,
    0 10px 26px rgba(var(--brand-1-rgb), .20),
    0 8px 20px rgba(var(--brand-2-rgb), .16);
}
html.dark .btn:not(.btn-brand):not(.btn-danger):not([disabled]):hover{
  background-color: var(--btn-hover-fill-dark) !important;
  background-image: none !important;
  transform: translateY(-1px);
  filter: saturate(1.07);
  box-shadow:
    0 1px 0 rgba(255,255,255,.05) inset,
    0 12px 28px rgba(var(--brand-1-rgb), .26),
    0 10px 24px rgba(var(--brand-2-rgb), .20);
}

.btn:active{
  transform: translateY(0);
  filter: saturate(1.02);
  box-shadow:
    0 6px 18px rgba(var(--brand-1-rgb), .16),
    0 4px 12px rgba(var(--brand-2-rgb), .12);
}

.btn:focus-visible{
  outline: none;
  box-shadow:
    0 0 0 3px rgba(var(--brand-1-rgb), .35),
    0 10px 30px rgba(var(--brand-1-rgb), .18);
}

@media (prefers-reduced-motion: reduce){
  .btn{ transition: background .18s ease, box-shadow .22s ease, filter .22s ease; }
  .btn:hover, .btn:active{ transform:none; }
}

/* ===== Varijante (brand) ===== */
.btn-light{ --btn-bg:#ffffff; color:#111827; }
.btn-light:hover{ background:#f5f5f5 !important; color:#111827; }

.btn-ghost{ --btn-bg: transparent; }
.btn-ghost:hover{ background: rgba(255,255,255,.06) !important; }

.btn-brand{
  color:#111;
  border-color: transparent;
  background: var(--brand-gradient);
  background-clip: padding-box;
  box-shadow: 0 2px 10px rgba(0,0,0,.18);
}
.btn-brand::after{ display:none; }
.btn-brand:hover{
  filter: brightness(1.02) saturate(1.06);
  transform: translateY(-1px);
  box-shadow:
    0 12px 30px rgba(var(--brand-1-rgb), .24),
    0 10px 24px rgba(var(--brand-2-rgb), .20);
}
.btn-brand:active{
  filter: brightness(1) saturate(1.02);
  transform: translateY(0);
}

/* Neutral — bez brand prstena (npr. navbar) */
.btn-plain{
  border-color: var(--btn-outline);
}
.btn-plain::after{ display:none; }
.btn-plain:hover{
  background: rgba(255,255,255,.06) !important;
}

/* Nav (kompaktno) */
.btn-nav{
  padding:.35rem .6rem;
  border-radius:999px;
  border-width:1px;
}
.btn-nav::after{ display:none; }
.btn-nav:hover{
  background: rgba(255,255,255,.06) !important;
}

/* =========================================
   DANGER varijanta (crveno)
   - crveni prsten (outline)
   - crveni fill na hover
   - fokus/active u crvenim nijansama
========================================= */
.btn-danger{
  /* promeni prsten u crveni gradijent */
  --btn-outline-gradient: linear-gradient(90deg, var(--danger-1), var(--danger-2));
  /* tekst crven, dok je idle transparent pozadina */
  color: var(--danger-1);
  /* ne diramo --btn-bg (ostaje transparent dok je idle) */
}

/* Hover — PUNI crveno i prebacuje tekst na belo */
html:not(.dark) .btn-danger:not([disabled]):hover{
  background-color: rgba(var(--danger-1-rgb), .22) !important;
  background-image: none !important;
  color:#fff !important;
  transform: translateY(-1px);
  box-shadow:
    0 1px 0 rgba(0,0,0,.06) inset,
    0 10px 26px rgba(var(--danger-1-rgb), .22);
}
html.dark .btn-danger:not([disabled]):hover{
  background-color: rgba(var(--danger-1-rgb), .32) !important;
  background-image: none !important;
  color:#fff !important;
  transform: translateY(-1px);
  box-shadow:
    0 1px 0 rgba(255,255,255,.05) inset,
    0 12px 28px rgba(var(--danger-1-rgb), .28);
}

/* Active / Focus u crvenom tonu */
.btn-danger:active{
  transform: translateY(0);
  box-shadow:
    0 6px 18px rgba(var(--danger-1-rgb), .20);
}
.btn-danger:focus-visible{
  outline:none;
  box-shadow:
    0 0 0 3px rgba(var(--danger-1-rgb), .45),
    0 10px 30px rgba(var(--danger-1-rgb), .22);
}

/* (opciono) Ako želiš odmah PUNO crveno (bez čekanja hovera), dodaj klasu .btn-danger--solid */
.btn-danger--solid{
  --btn-bg: var(--danger-1);
  color:#fff;
}
.btn-danger--solid:hover{
  filter: brightness(1.04);
}

/* Veličine/oblici */
.btn-lg{ padding:.7rem 1.1rem; font-size:1rem; border-radius:calc(var(--radius) - 4px); }
.btn-pill{ border-radius:999px; }

/* =========================================
   Tables
========================================= */
.table{
  width:100%;
  border:1px solid var(--border);
  border-radius: var(--radius);
  overflow:hidden;
  background: var(--card);
}
.table thead th{
  padding:.6rem .75rem; text-align:left; font-weight:600;
  border-bottom:1px solid var(--border);
}
.table tbody td{ padding:.6rem .75rem; border-top:1px solid var(--border); }
.table tfoot td{ padding:.6rem .75rem; border-top:1px solid var(--border); }

/* Tuning */
html.dark .table{ background:#0f1012; border-color:#2b2f36; }
html.dark .table thead th{ background:#16181c; color:#e7e7ea; }
html.dark .table tbody td{ color:#e2e2e6; }
html.dark .table tbody tr:hover td{ background:#16181c; }

html:not(.dark) .table{ background:#ffffff; border-color:#e5e7eb; }
html:not(.dark) .table thead th{ background:#fafafa; color:#111827; }

/* =========================================
   Badge
========================================= */
.badge{
  display:inline-flex; align-items:center; gap:.35rem;
  border:1px solid var(--border); border-radius:999px;
  padding:.22rem .55rem; font-size:.75rem; opacity:.9;
}
.badge:hover{ opacity:1; }

/* =========================================
   Brand text + logo reveal
========================================= */
.brand-text{
  background: var(--brand-gradient);
  -webkit-background-clip:text; background-clip:text;
  -webkit-text-fill-color:transparent; color:transparent;
}
.brand-link{ display:inline-flex; align-items:center; gap:.35rem; }
.brand-logo{
  width:34px; height:34px; border-radius:8px;
  box-shadow:0 2px 10px rgba(var(--brand-1-rgb), .30);
}
.brand-label{
  display:inline-block;
  font-weight:600; letter-spacing:-.01em; line-height:1;
  background: var(--brand-gradient);
  -webkit-background-clip:text; background-clip:text;
  -webkit-text-fill-color: transparent; color: transparent;

  max-width:0; opacity:0; transform: translateX(-18px);
  overflow:hidden; white-space:nowrap;
  transition:
    max-width .90s cubic-bezier(.2,0,0,1),
    opacity   .65s ease-out,
    transform .90s cubic-bezier(.2,0,0,1);
  transition-delay: 60ms;
}
.brand-link:hover .brand-label,
.brand-link:focus-visible .brand-label{ max-width:160px; opacity:1; transform:none; }
@media (prefers-reduced-motion: reduce){
  .brand-label{ transition:none; transform:none; }
}

/* =========================================
   Choice grid / cards (Plans)
========================================= */
.choice-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1rem; }
.choice-card{
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 1rem;
  transition: background-color .15s, border-color .15s, box-shadow .15s, transform .15s;
}
.choice-card:hover{
  border-color: rgba(var(--brand-1-rgb), .35);
  background:
    linear-gradient(0deg, rgba(var(--brand-1-rgb), .08), transparent),
    var(--card);
}

/* =========================================
   Ambient shadow helper
========================================= */
.shadow-ambient{ box-shadow: 0 12px 48px rgba(0,0,0,.28); }

/* === DANGER hover override (jarko crveno punjenje) === */
:root{
  --danger-1:#ef4444;        /* ako već postoji, možeš preskočiti */
  --danger-2:#b91c1c;
  --danger-1-rgb:239,68,68;
}

html:not(.dark) .btn-danger:not([disabled]):hover{
  background-color: rgba(var(--danger-1-rgb), .30) !important;
  background-image: none !important;
  color:#fff !important;
  box-shadow:
    0 1px 0 rgba(0,0,0,.06) inset,
    0 10px 26px rgba(var(--danger-1-rgb), .22);
}
html.dark .btn-danger:not([disabled]):hover{
  background-color: rgba(var(--danger-1-rgb), .38) !important;
  background-image: none !important;
  color:#fff !important;
  box-shadow:
    0 1px 0 rgba(255,255,255,.05) inset,
    0 12px 28px rgba(var(--danger-1-rgb), .28);
}

/* Ako želiš DA JE UVEK PUNO CRVENO: dodaj i ovu klasu na dugme */
.btn-danger--solid{ --btn-bg: var(--danger-1); color:#fff; }